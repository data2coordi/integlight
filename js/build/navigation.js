(()=>{"use strict";class e{static closeSiblings(e){Array.from(e.parentElement.children).filter(t=>t!==e).forEach(e=>e.classList.remove("active"))}}class t{constructor(e=".menu-item-has-children > a"){this.menuLinks=document.querySelectorAll(e),this.menuItems=document.querySelectorAll(".menu-item-has-children")}init(){this.menuLinks.forEach(e=>{e.addEventListener("click",this.onClick.bind(this)),e.addEventListener("keydown",this.onKeydown.bind(this))}),this.menuItems.forEach(e=>{e.addEventListener("focusout",this.onFocusOut.bind(this))})}onClick(t){const i=t.currentTarget,n=i.offsetWidth;if(t.offsetX<=n-40)return;t.preventDefault(),t.stopPropagation();const s=i.parentElement;e.closeSiblings(s),s.classList.toggle("active")}onKeydown(t){if("Tab"!==t.key)return;const i=t.currentTarget.parentElement;i.classList.contains("active")||(e.closeSiblings(i),i.classList.add("active"))}onFocusOut(e){const t=e.currentTarget;setTimeout(()=>{t.contains(document.activeElement)||t.classList.remove("active")},0)}}class i{init(){document.addEventListener("keydown",e=>{if("Escape"!==e.key)return;const t=document.activeElement,i=t.closest(".menu-item-has-children.active");i&&(i.classList.remove("active"),t.blur())})}}class n{constructor({toggleLabelSel:e=".menuToggle-label",checkboxSel:t=".menuToggle-checkbox",containerSel:i=".menuToggle-containerForMenu",breakpoint:n=768}={}){this.toggleLabel=document.querySelector(e),this.checkbox=document.querySelector(t),this.container=document.querySelector(i),this.bp=n}init(){window.matchMedia(`(max-width: ${this.bp}px)`).matches&&this.toggleLabel&&this.checkbox&&this.container&&(this.toggleLabel.setAttribute("tabindex","0"),this.toggleLabel.setAttribute("aria-expanded","false"),this.container.setAttribute("aria-hidden","true"),this.container.querySelectorAll("a").forEach(e=>e.setAttribute("tabindex","-1")),this.checkbox.addEventListener("change",()=>this.update(this.checkbox.checked)),this.toggleLabel.addEventListener("keydown",e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.checkbox.checked=!this.checkbox.checked,this.update(this.checkbox.checked))}))}update(e){this.toggleLabel.setAttribute("aria-expanded",String(e)),this.container.setAttribute("aria-hidden",String(!e)),this.container.querySelectorAll("a").forEach((t,i)=>{e?(t.removeAttribute("tabindex"),0===i&&requestAnimationFrame(()=>t.focus())):t.setAttribute("tabindex","-1")})}}document.addEventListener("DOMContentLoaded",()=>{(new t).init(),(new i).init(),(new n).init()})})();
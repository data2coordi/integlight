(()=>{"use strict";class e{static closeSiblings(e){Array.from(e.parentElement.children).filter(t=>t!==e).forEach(e=>e.classList.remove("active"))}}class t{constructor(e=".menu-item-has-children > a"){this.menuLinks=document.querySelectorAll(e),this.menuItems=document.querySelectorAll(".menu-item-has-children")}init(){this.menuLinks.forEach(e=>{e.addEventListener("click",this.onClick.bind(this)),e.addEventListener("keydown",this.onKeydown.bind(this))}),this.menuItems.forEach(e=>{e.addEventListener("focusout",this.onFocusOut.bind(this))})}onClick(t){const n=t.currentTarget,i=n.offsetWidth;if(t.offsetX<=i-40)return;t.preventDefault(),t.stopPropagation();const c=n.parentElement;e.closeSiblings(c),c.classList.toggle("active")}onKeydown(t){if("Tab"!==t.key)return;const n=t.currentTarget.parentElement;n.classList.contains("active")||(e.closeSiblings(n),n.classList.add("active"))}onFocusOut(e){const t=e.currentTarget;setTimeout(()=>{t.contains(document.activeElement)||t.classList.remove("active")},0)}}class n{init(){document.addEventListener("keydown",e=>{if("Escape"!==e.key)return;const t=document.activeElement,n=t.closest(".menu-item-has-children.active");n&&(n.classList.remove("active"),t.blur())})}}class i{constructor({toggleButtonSel:e="#menuToggle-button",checkboxSel:t=".menuToggle-checkbox",containerSel:n=".menuToggle-containerForMenu",breakpoint:i=768}={}){this.toggleButton=document.querySelector(e),this.checkbox=document.querySelector(t),this.container=document.querySelector(n),this.bp=i}init(){window.matchMedia(`(max-width: ${this.bp}px)`).matches&&this.toggleButton&&this.checkbox&&this.container&&(this.container.setAttribute("aria-hidden","true"),this.container.querySelectorAll("a").forEach(e=>e.setAttribute("tabindex","-1")),this.checkbox.addEventListener("change",()=>this.update(this.checkbox.checked)),this.toggleButton.addEventListener("click",()=>{this.checkbox.checked=!this.checkbox.checked,this.update(this.checkbox.checked)}))}update(e){this.toggleButton.setAttribute("aria-expanded",String(e)),this.container.setAttribute("aria-hidden",String(!e)),this.container.querySelectorAll("a").forEach((t,n)=>{e?(t.removeAttribute("tabindex"),0===n&&requestAnimationFrame(()=>t.focus())):t.setAttribute("tabindex","-1")})}}document.addEventListener("DOMContentLoaded",()=>{(new t).init(),(new n).init(),(new i).init()})})();
/*
 * 体系化・整理済みバージョン (内容完全維持)
 * - CSSプロパティ/値は元のコードを完全に保持
 * - コメント構造とセクション分けを論理的に改善
 * - 宣言順序を調整し、可読性を向上
 */

/*========================================================================================
 * 1. サイト全体・汎用スタイル
 *========================================================================================*/

/* --- body/html（背景・コンテンツ幅の調整）s --- */
/* -------------------- 共通設定 -------------------- */
html,
body {
  min-height: 100%; /* ルートを塗れるように */
}

/* -------------------- home2ページ特有の調整 -------------------- */
/* home2のコンテンツ幅が小さくなるのを解除 */
#primary.home2 {
  max-width: none;
  width: 100%;
}

/* 同じ条件で、body の“塗りつぶし色”だけ透明化（画像はそのまま前面） */
body:has(.home2) {
  background-color: transparent !important;
  /* background-image は WP が出力するので触らない */
}

/* home2ページでのhtmlのグラデーション/背景の調整 (基準設定) */
html:has(body .home2) {
  position: relative;
}

/* 画像が設定されている home2 ページでは、html のグラデを消す */
html:has(body.custom-background .home2) {
  background: none !important;
}

/* グラデーション/オーバーレイ::before (全画面カバー) */
html:has(body .home2)::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  inset: 0;
  /* height: 60vh; ← フェードをかけたい高さだけ */
  pointer-events: none;
}

/* home2のとき、グラデのオーバーレイを背面/コンテンツを前面に */
@supports selector(html:has(body .home2)) {
  html:has(body .home2)::before {
    z-index: 0 !important; /* 上に来ないよう背面へ */
  }
  body .home2 {
    position: relative;
    z-index: 1; /* 中身を前面へ */
  }
}

/* -------------------- レスポンシブ調整 (WP基準 782px以下) -------------------- */
/* スマホで、.home2 があるページだけ htmlの押し下げをゼロに */
@media screen and (max-width: 782px) {
  @supports selector(html:has(body .home2)) {
    /* html の押し下げを無効化 */
    html:root:has(body .home2) {
      margin-top: 0 !important;
    }

    /* 管理バー高さぶんだけヘッダーを下げる */
    body.admin-bar:has(.home2)
      :is(#masthead, .site-header, header[role="banner"]) {
      margin-top: 46px; /* 初期配置用 */
    }
  }
}
/* --- body/html（背景・コンテンツ幅の調整）e --- */
/*--------------------------------------------------------------------------------------*/

/* --- CSS変数（ルート）s --- */
:root {
  /* ヘッダー帯関連の変数 */
  --titlebar-h: 40px; /* 帯の高さ */
  --titlebar-gap: 12px; /* 帯の下の余白 */

  /* カード関連の変数 (PC) */
  --card-h: 260px;
}

/* カード関連の変数 (SP: 780px以下) */
@media (max-width: 780px) {
  :root {
    --card-h: 360px;
  }
}
/* --- CSS変数（ルート）e --- */
/*--------------------------------------------------------------------------------------*/

/*========================================================================================
 * 2.1 ヘッダー
 *========================================================================================*/

/*************ヘッダーs*********/
/* ヘッダーコンテナ（ロゴ/ナビゲーション全体） */
#masthead.ly_site_content,
#masthead.ly_site_header {
  flex-direction: column;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
  /* x, y, ぼかし, 色 */
  z-index: 999; /* 必要なら前面に */
}

/* 背景色 */
.site-header,
ul.menu li ul.sub-menu li.menu-item-has-children > ul.sub-menu,
ul.menu > li.menu-item-has-children > ul.sub-menu {
  background: #fff;
}

/* ヘッダー位置調整 (帯の高さぶんだけ下げる) */
.site-header {
  position: relative;
  overflow: visible;
  /* margin-top: var(--titlebar-h); */
}

/* ロゴエリア */
.site-branding {
  width: 350px; /* 固定幅 */
  margin: 15px auto; /* 上下15px・左右autoで中央 */
  text-align: center;
}

/* サイトタイトル */
h1.site-title {
  margin-top: var(--ly-elementTopMarginSmall);
}

.site-title a {
  font-size: 1.2rem; /* 見出しリンクの文字サイズ */
  color: inherit; /* 親(h1)の色(白)を継承 */
  text-decoration: none; /* 下線を消す */
}

/* キャッチコピー */
p.site-description {
  color: #222; /* キャッチコピーの文字色 */
  font-weight: 600; /* 少し太めに */
  font-size: 0.8rem; /* 小さめサイズ */
}

/* -------------------- レスポンシブ調整 -------------------- */
/* モバイル調整 (1023px以下) */
@media (max-width: 1023px) {
  .site-header {
    border-bottom: none;
    box-shadow: none;
  }
}

/*========================================================================================
 * 2.2 ナビゲーション 
 *========================================================================================*/

/* メインナビゲーション */
.main-navigation a {
  color: #222;
  font-weight: bold;
}

.main-navigation li.menu-item-has-children > a::after {
  background-color: #222;
}

/* モバイル調整 (780px以下) */
@media (max-width: 780px) {
  .menuToggle-containerForMenu {
    background: #fff !important;
  }
  #masthead.ly_site_content,
  #masthead.ly_site_header {
    flex-direction: row;
  }
}
/*************ヘッダーe*********/
/*--------------------------------------------------------------------------------------*/

/***********ハンバーガーメニューs**************/
@media (max-width: 780px) {
  /* ハンバーガーアイコンの色・太さ */
  header .menuToggle-label span,
  header .menuToggle-label::before,
  header .menuToggle-label::after {
    background: #222;
    height: 2px;
    left: -15px;
  }

  /* チェック時（X印）の変形 */
  .menuToggle-checkbox:checked + .menuToggle-label::before {
    transform: translateY(15px) rotate(45deg);
  }

  /* トグルボタンの枠線解除 */
  button#menuToggle-button {
    border: none;
    /* top: -28px; */
  }

  /* モバイルメニュー全体の配置調整 */
  ul.menu {
    margin-top: 5rem;
  }
}
/***********ハンバーガーメニューe**************/
/*--------------------------------------------------------------------------------------*/

/*========================================================================================
 * 3. スライダー（トップメインビジュアル）
 *========================================================================================*/

/*************スライダー用s********/

/* -------------------- レスポンシブ調整 (1023px以下) -------------------- */
@media (max-width: 1023px) {
  .slider {
    height: 35vh;
  }

  .slider .slide img {
    height: 35vh;
    object-fit: cover;
    width: 100vw;
  }
}

/* -------------------- PCのみ (1024px以上) -------------------- */
@media (min-width: 1024px) {
  /* 全体の高さ設定 */
  .slider {
    height: 35vh;
  }

  /* 画像のフィット */
  .slider .slide img {
    height: 100%;
    object-fit: cover;
  }

  /* スライド式エフェクト */
  .slider.slide-effect .slide {
    min-width: 50vw;
  }

  /* フェード式エフェクト (コンテナ) */
  .slider.fade-effect .slides {
    transition: none;
    transform: none; /* 位置のズレを防止 */
    width: 100%;
    display: flex;
    align-items: stretch;
    justify-content: center;
    gap: 0;
  }

  /* フェード式エフェクト (画像) */
  .slider.fade-effect .slide img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block; /* 余白/行間を消す */
  }

  /* フェード式エフェクト (スライド要素) */
  .slider.fade-effect .slide {
    position: relative;
    overflow: hidden;
    box-sizing: border-box;
  }

  /* 脇役スライド (左右25%) */
  .slider.fade-effect .slide.slide-left,
  .slider.fade-effect .slide.slide-right {
    flex: 0 0 25%;
  }

  /* 主役スライド (中央50%) */
  .slider.fade-effect .slide.slide-center {
    flex: 0 0 50%;
  }
}
/*************スライダー用e*********/
/*--------------------------------------------------------------------------------------*/

/*========================================================================================
 * 4. メインコンテンツ（見出し・一覧・カード）
 *========================================================================================*/

/*************hタグs*********/
/* hタグ共通スタイル */
.home2 h1,
.home2 h2,
.home2 h3,
.home2 h4,
.home2 h5,
.home2 h6 {
  border-bottom: none;
}

/* セクション見出しのウェイト */
.category-posts > h3,
.top-categories-posts > h2,
section.latest-posts > h2 {
  font-weight: 600;
}

/* ① セクション見出しだけ中央寄せとマージン調整 */
section.latest-posts > h2,
.top-categories-posts > h2,
.category-posts > h3 {
  text-align: center;
}

section.latest-posts > h2,
.top-categories-posts > h2 {
  margin-bottom: 3rem;
}

.category-posts > h3 {
  margin-top: 5rem;
  color: #555;
}

/* ② カード内の h2 は左寄せのまま */
section.latest-posts .post-grid h2,
section.latest-posts .grid-item h2 {
  text-align: left;
}

/* カード内のh2文字を小さく */
.home2 #primary .post-grid .grid-item h2 {
  font-size: 1.3rem;
}

/* -------------------- レスポンシブ調整 (780px以下) -------------------- */
@media (max-width: 780px) {
  .home2 h1,
  .home2 h2,
  .home2 h3,
  .home2 h4,
  .home2 h5,
  .home2 h6 {
    padding: 0 16px;
  }

  .top-categories-posts > h2,
  section.latest-posts > h2 {
    margin-bottom: 2rem;
  }

  .category-posts > h3 {
    margin-top: 2.5rem;
    margin-bottom: 0.5rem;
  }
}
/*************hタグe*********/
/*--------------------------------------------------------------------------------------*/

/* ===== 記事一覧コンテナ（デスクトップ：常に2列）s ===== */
.home2 .post-grid {
  display: grid;
  gap: 30px;
  grid-template-columns: repeat(2, 1fr); /* PCは常に2カラム */
  padding: 15px 0;
  width: min(100%, 1080px); /* ★ 1200px→1080pxにしてカードを小ぶりに */
  margin: 0 auto; /* 中央寄せ */
}
/* ===== 記事一覧コンテナ（デスクトップ：常に2列）e ===== */
/*--------------------------------------------------------------------------------------*/

/* ========== 4-1. カードの基本レイアウト (PC: 2カラム横並び) ========== */

/* -------------------- カードコンテナ -------------------- */
.home2 .grid-item {
  background-color: #fff;
  border: 1px solid #b5b4b4;
  height: var(--card-h); /* ← ここだけで常に同一高さにする */
  overflow: hidden;
  transition:
    transform 0.3s ease,
    box-shadow 0.3s ease;
  position: relative; /* バッジ等をabsolute配置するための基準に */
  width: 100%;
  border-radius: 20px; /* 角丸でカード感を出す */
}

/* ホバーエフェクト */
.home2 .grid-item:hover {
  transform: translateY(-10px);
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
}

/* -------------------- a要素内のグリッドレイアウト -------------------- */
/* a要素内を「左=画像 / 右=テキスト3段」に */
.home2 .post-grid .grid-item > a {
  display: grid;
  grid-template-columns: 50% 1fr; /* 画像:テキスト = 50:50（右側を確保） */
  grid-template-rows: auto 1fr auto; /* 上=タイトル / 中=抜粋(伸縮) / 下=日付 */
  align-items: stretch; /* 行の高さを揃えて段差をなくす */
  row-gap: 6px; /* テキスト縦要素の間隔 */
  height: 100%; /* ← これが重要 */
  text-decoration: none; /* リンクの下線を消す */
  min-height: 0; /* グリッド内での高さ破綻防止 */
}

/* -------------------- 画像 (左カラム) -------------------- */
/* 画像コンテナの配置 (div/a/figure のテーマ差に対応) */
.home2 .post-grid .grid-item .post-thumbnail,
.post-grid .grid-item a.post-thumbnail,
.post-grid .grid-item figure.post-thumbnail {
  position: static; /* absolute指定を解除して通常フローへ */
  grid-column: 1 / 2; /* 左カラム */
  grid-row: 1 / -1; /* タイトル/抜粋/日付の3行を縦断 */
  height: 100%;
  align-self: stretch; /* 行の高さにぴったり合わせる */
  overflow: hidden; /* 画像はみ出しを見切る */
  z-index: 0; /* テキストより背面 */
}

/* 画像本体のフィット */
.home2 .post-grid .grid-item .post-thumbnail img {
  width: 100%;
  height: 100%;
  padding: 0;
  object-fit: cover; /* 画像をトリミングして“面で見せる” */
  display: block;
}

/* プラグインなどによる画像要素のラッパー対応 */
.home2 .post-thumbnail :is(picture, a, figure, div, span) {
  display: block;
  width: 100%;
  height: 100%;
}

/* -------------------- テキスト (右カラム共通) -------------------- */
.home2 .post-grid .grid-item > a > h2,
.home2 .post-grid .grid-item > a > .post-excerpt,
.home2 .post-grid .grid-item > a > .post-meta {
  grid-column: 2 / 3; /* 右カラムにまとめる */
  padding: 0 18px; /* 右カラム内の左右余白 */
  max-width: 100%;
  min-width: 0; /* はみ出し防止（長い単語対策） */
  position: static; /* テーマ側のabsolute指定を打ち消し */
  inset: auto; /* top/right/bottom/left を一括解除 */
  transform: none;
  z-index: 1; /* 画像より前面 */
  color: inherit; /* 画像上の白文字指定などテーマ依存の色を解除 */
}

/* タイトル（上段） */
.home2 .post-grid .grid-item > a > h2 {
  grid-row: 1; /* 1行目 */
  margin: 0.2rem 0 6px; /* 上は控えめ */
  padding-top: 10px; /* 画像との視覚的距離を確保 */
  font-weight: 600;
  font-size: clamp(17px, 1.8vw, 20px);
  line-height: 1.35;
  display: -webkit-box; /* マルチライン省略の土台 */
  -webkit-box-orient: vertical;
  /* 2行で省略-webkit-line-clamp: 2;  */
  overflow: hidden;
  word-break: break-word; /* 長い単語での折返し許可 */
  overflow-wrap: anywhere; /* より強力な保険 */
  align-self: start;
}

/* 抜粋（中段） */
.home2 .post-excerpt {
  display: block; /* 抜粋を強制的に表示 */
}

.home2 .post-grid .grid-item > a > .post-excerpt {
  grid-row: 2; /* 2行目 */
  margin: 0;
  font-size: 14px;
  line-height: 1.6;
  color: #444;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  /* -webkit-line-clamp: 1;          情報量優先は 3 に */
  overflow: hidden;
  min-height: 0;
}

/* 日付（下段） */
.post-grid .grid-item > a > .post-meta {
  grid-row: 3; /* 3行目 */
  margin-top: 0;
  font-size: 13px;
  color: #444;
}

.post-date {
  font-size: 0.8rem;
  padding-bottom: 12px;
}

/* -------------------- カテゴリバッジ -------------------- */
/* カテゴリバッジ（画像左上）のコンテナ */
.post-grid .grid-item .post-category {
  position: absolute;
  max-width: calc(49% - 16px);
  z-index: 2;
}

/* カテゴリバッジ内のテキスト調整 */
.home2 .post-category p {
  display: -webkit-box; /* ← inline-block を上書き */
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;

  white-space: normal; /* 折り返し許可 */
  overflow-wrap: anywhere;
  margin: 0;
  padding: 4px 12px;
}

/* カテゴリバッジhome1では全部グレーに (コメントアウト維持)
.home1 .post-category p {
  background: #555;
}
*/
/*--------------------------------------------------------------------------------------*/

/* ========== 4-2. モバイルでのレイアウト (780px以下) ========== */
@media (max-width: 780px) {
  /* -------------------- 記事一覧コンテナ -------------------- */
  .home2 .post-grid {
    grid-template-columns: 1fr; /* ← 1カラム固定 */
    grid-auto-flow: row;
    max-width: 680px;
    margin-inline: auto;
    padding-inline: 16px;
    grid-template-columns: 1fr;
    gap: 20px;
    grid-auto-rows: auto !important; /* ★PCの行固定を解除 */
  }

  /* カードは可変高 */
  .post-grid .grid-item {
    height: auto; /* カードの高さを可変に */
  }

  .home2 .post-grid .grid-item {
    width: auto;
    max-width: 100%;
    height: 425px; /* ★固定高をやめる（変数:--card-h を参照） */
  }

  /* 内部グリッドを解除して縦積みへ */
  .home2 .post-grid .grid-item > a {
    display: block; /* ★縦に順番通り流す */
  }

  /* -------------------- 画像 -------------------- */
  .home2 .post-grid .grid-item .post-thumbnail {
    float: none; /* 回り込みを完全オフ */
    clear: both;
    position: static; /* 通常フローに戻す */
    width: 100%;
    height: clamp(160px, 52vw, 240px); /* ★端末幅連動の基準高（可変） */
    margin: 0 0 8px;
    border-radius: 16px 16px 0 0;
    overflow: hidden;
  }

  .home2 .post-grid .grid-item .post-thumbnail img {
    display: block;
    width: 100%;
    height: auto; /* ★100%→auto にしてノークロップ */
    object-fit: cover;
  }

  /* サムネの角丸調整 */
  .post-grid .grid-item .post-thumbnail {
    height: 200px;
    border-radius: 16px;
  }

  /* -------------------- テキスト -------------------- */
  /* テキストの共通設定 */
  .home2 .post-grid .grid-item > a > h2,
  .home2 .post-grid .grid-item > a > .post-excerpt,
  .home2 .post-grid .grid-item > a > .post-meta {
    position: static; /* ★absolute指定があっても無効化 */
    inset: auto;
    transform: none;
    clear: both;
    display: block;
    word-break: break-word; /* ★長い英数字の折返し */
    overflow-wrap: anywhere; /* ★どこでも折返しの保険 */
  }

  /* タイトル */
  .home2 .post-grid .grid-item > a > h2 {
    margin-top: 10px;
    margin-bottom: 6px;
    font-weight: 600;
    font-size: clamp(16px, 4.6vw, 19px);
    line-height: 1.35;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    /* -webkit-line-clamp: 2; */
    overflow: hidden;
    padding: 0;
  }

  /* カード内のh2文字サイズ */
  .home2 #primary .post-grid .grid-item h2 {
    font-size: 1.3rem;
    padding: 0;
  }
  .home2 .grid-item h2 {
    width: 90%; /* 行幅をやや絞って読みやすく */
  }

  /* 抜粋 */
  .home2 .post-grid .grid-item > a > .post-excerpt {
    margin: 0 0 10px;
    padding: 0 16px; /* 行頭をそろえる */
    font-size: 14px;
    line-height: 1.7;
    color: #444;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    /* -webkit-line-clamp: 2;  情報量重視なら 3 に */
    overflow: hidden;
  }

  /* 日付 */
  .home2 .post-grid .grid-item > a > .post-meta {
    margin: 6px 0 14px;
    font-size: 13px;
    color: #666;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    padding: 8px 0; /* モバイルでのタップ/視線移動を最適化 */
  }
}
/*--------------------------------------------------------------------------------------*/

/*========================================================================================
 * 5. ボタン（ロードモア）
 *========================================================================================*/

/*************ボタンs*********/
/* テーマの汎用ボタン設定 */
.integlight_pt button {
  /* width: 350px; */
  padding: 15px;
  border: 1px solid #555;
  background: #fff;
  color: #555;
}

/* ボタン本体（ロードモア）のレイアウトとデザイン */
.home2 #load-more,
.home2 .load-more-cat,
.home2 .integlight_pt button#load-more {
  display: flex;
  margin: 40px auto;
  align-items: center;
  gap: 28px;
  justify-content: center;
  width: clamp(240px, calc(100vw - 48px), 350px);
  box-sizing: border-box;
  color: #555; /* ← これが矢印の色になる */
  background: #fff;
  border: 1px solid #555;
  padding: 15px 28px;
  transition:
    background 0.2s ease,
    border-color 0.2s ease,
    color 0.2s ease; /* 変化が滑らか */
}

/* 矢印（SVG）をマスクとして表示 */
#load-more::after,
.load-more-cat::after {
  content: "";
  width: 80px;
  height: 10px;
  background-color: currentColor;
  -webkit-mask-image: url("/wp-content/themes/integlight/assets/yajirushi.svg");
  -webkit-mask-repeat: no-repeat;
  -webkit-mask-position: center;
  -webkit-mask-size: contain;
  mask-image: url("/wp-content/themes/integlight/assets/yajirushi.svg");
  mask-repeat: no-repeat;
  mask-position: center;
  mask-size: contain;
}

/* 例：ホバーで色を変える (コメントアウト維持)
#load-more:hover,
  .load-more-cat:hover,
  #load-more:focus-visible,
  .load-more-cat:focus-visible {
    background: #555;
    border: 1px solid #555;
    color: #fff;                
}
*/

/* モバイル調整 (780px以下) */
@media (max-width: 780px) {
  #load-more,
  .load-more-cat,
  .integlight_pt button#load-more {
    width: 300px;
  }
}
/*************ボタンe*********/

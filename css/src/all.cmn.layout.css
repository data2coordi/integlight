/************************************************************
 *  サイト全体の骨格
 ************************************************************/

.site {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* ヘッダー・フッターは画面幅いっぱい */
.ly_site_header,
.site-footer {
  width: 100%;
  padding-inline: var(--ly-widthPadding);
}

/************************************************************
 *  コンテンツ全体（スマホ基準）
 ************************************************************/

/* スマホではまず縦流しにする */
.ly_site_content {
  width: 100%;
  max-width: 1200px; /* PC時に効く */
  margin-inline: auto;
  padding-inline: var(--ly-widthPadding);
  padding-bottom: 80px;
  /* margin-top: var(--ly-topMerge); *******************************************************/
  display: block; /* スマホでは block */
  min-height: 100vh;
}

/* メインとサイドバーの領域名だけは付けておく */
.ly_site_content_main {
  grid-area: main;
  min-width: 0;
  width: 100%;
}
.ly_site_content_widgetArea_left {
  grid-area: left;
  width: 100%;
}
.ly_site_content_widgetArea_right {
  grid-area: right;
  width: 100%;
}
.ly_site_content_widgetArea_bottom {
  grid-area: bottom;
  width: 100%;
}
.ly_site_content_widgetArea_top {
  grid-area: top;
  width: 100%;
}

/************************************************************
 *  PCレイアウト（768px以上）
 *  alignfull / alignwide は使わない前提
 ************************************************************/
@media screen and (min-width: 769px) {
  /* ==== まずレイアウトの基本 ==== */
  .ly_site_content {
    display: grid;
    gap: var(--ly-betweenPadding);
    grid-template-areas:
      "top top top"
      "main main main"
      "bottom bottom bottom";
    grid-template-columns: 1fr 800px 1fr; /* 左右1frで中央寄せ */
  }

  /* --------------------------
     右サイドバーのみ
     main(800px) + right(300px)
     -------------------------- */
  .ly_site_content:has(.ly_site_content_widgetArea_right):not(
      :has(.ly_site_content_widgetArea_left)
    ) {
    grid-template-areas:
      "top    top"
      "main   right"
      "bottom bottom";
    grid-template-columns: 800px 300px;
    justify-content: center;
  }

  .home
    .ly_site_content:has(.ly_site_content_widgetArea_right):not(
      :has(.ly_site_content_widgetArea_left)
    ) {
    grid-template-columns: 1000px 300px;
  }

  /* --------------------------
     左サイドバーのみ
     left(300px) + main(800px)
     -------------------------- */
  .ly_site_content:has(.ly_site_content_widgetArea_left):not(
      :has(.ly_site_content_widgetArea_right)
    ) {
    grid-template-areas:
      "top  top"
      "left main"
      "bottom bottom";
    grid-template-columns: 300px 800px;
    justify-content: center;
  }

  /* --------------------------
     左右サイドバー両方
     left(300px) + main(800px) + right(300px)
     -------------------------- */
  .ly_site_content:has(.ly_site_content_widgetArea_left):has(
      .ly_site_content_widgetArea_right
    ) {
    grid-template-areas:
      "top top top"
      "left main right"
      "bottom bottom bottom";
    grid-template-columns: 300px 800px 300px;
    justify-content: center;
  }

  /*****************************
   * メインコンテンツは必ず800px
   *****************************/
  .ly_site_content_main {
    max-width: 800px;
    width: 800px;
    min-width: 0;
  }

  .page .ly_site_content_main {
    margin: 0 auto; /*固定ページ中央寄せ！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！*/
  }

  /* サイドバーは固定幅でOK */
  .ly_site_content_widgetArea_left,
  .ly_site_content_widgetArea_right {
    width: 300px;
    align-self: start;
  }

  /* ホーム上部ウィジェット */
  .ly_site_content_widgetArea_top {
    width: 100%;
    background: #f4f4f4;
    border: 1px solid var(--ly-borderColor, #fbfbfb);
    padding: clamp(24px, 4vw, 48px);
    margin-bottom: clamp(24px, 6vw, 64px);
  }
}

/************************************************************
 *  スマホレイアウト（768px以下）
 ************************************************************/
@media screen and (max-width: 768px) {
  .site {
    flex-direction: column;
  }

  /* 全部 “スマホ縦流し順” に統一 */
  .ly_site_content_main {
    order: 1;
  }
  .ly_site_content_widgetArea_left {
    order: 2;
  }
  .ly_site_content_widgetArea_right {
    order: 3;
  }
  .ly_site_content_widgetArea_bottom {
    order: 4;
  }

  img {
    max-width: 100%;
    height: auto;
  }

  .wp-block-image {
    text-align: center;
  }

  .ly_site_content_main .wp-block-columns {
    padding: 15px;
  }
}

/************************************************************
 *  行間・余白など（Integlight既存の思想を継承）
 ************************************************************/
* {
  margin: 0;
  box-sizing: border-box;
}

h1,
h2,
h3,
h4,
h5,
h6,
section,
article {
  margin-top: var(--ly-elementTopMargin);
  line-height: 1.5;
}

p,
ul,
input,
textarea,
button {
  margin-top: var(--ly-elementTopMarginSmall);
}

.entry-content p,
.entry-content ul,
.entry-content input,
.entry-content textarea,
.entry-content button {
  margin-bottom: calc(var(--ly-elementBottomMargin) / 2);
  line-height: 1.8;
}

.wp-block-image img {
  margin-top: var(--ly-elementTopMarginSmall);
}

body .is-layout-flex {
  margin-top: var(--ly-elementTopMargin);
}

/* alignfull・alignwide は一切使わないため削除 */
